{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useEvent;\nvar _addEventListener = require(\"../addEventListener\");\nvar _useLayoutEffect = _interopRequireDefault(require(\"../useLayoutEffect\"));\nvar _useStable = _interopRequireDefault(require(\"../useStable\"));\nfunction useEvent(eventType, options) {\n  var targetListeners = (0, _useStable.default)(function () {\n    return new Map();\n  });\n  var addListener = (0, _useStable.default)(function () {\n    return function (target, callback) {\n      var removeTargetListener = targetListeners.get(target);\n      if (removeTargetListener != null) {\n        removeTargetListener();\n      }\n      if (callback == null) {\n        targetListeners.delete(target);\n        callback = function callback() {};\n      }\n      var removeEventListener = (0, _addEventListener.addEventListener)(target, eventType, callback, options);\n      targetListeners.set(target, removeEventListener);\n      return removeEventListener;\n    };\n  });\n  (0, _useLayoutEffect.default)(function () {\n    return function () {\n      targetListeners.forEach(function (removeListener) {\n        removeListener();\n      });\n      targetListeners.clear();\n    };\n  }, [targetListeners]);\n  return addListener;\n}","map":{"version":3,"names":["_addEventListener","require","_useLayoutEffect","_interopRequireDefault","_useStable","useEvent","eventType","options","targetListeners","useStable","Map","addListener","target","callback","removeTargetListener","get","delete","removeEventListener","addEventListener","set","useLayoutEffect","forEach","removeListener","clear"],"sources":["C:/Users/Anirudh/New folder/amplify/frontend/node_modules/react-native-web/dist/modules/useEvent/index.js"],"sourcesContent":["/**\r\n * Copyright (c) Meta Platforms, Inc. and affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n *\r\n * \r\n */\r\n\r\nimport { addEventListener } from '../addEventListener';\r\nimport useLayoutEffect from '../useLayoutEffect';\r\nimport useStable from '../useStable';\r\n/**\r\n * This can be used with any event type include custom events.\r\n *\r\n * const click = useEvent('click', options);\r\n * useEffect(() => {\r\n *   click.setListener(target, onClick);\r\n *   return () => click.clear();\r\n * }).\r\n */\r\nexport default function useEvent(eventType, options) {\r\n  var targetListeners = useStable(() => new Map());\r\n  var addListener = useStable(() => {\r\n    return (target, callback) => {\r\n      var removeTargetListener = targetListeners.get(target);\r\n      if (removeTargetListener != null) {\r\n        removeTargetListener();\r\n      }\r\n      if (callback == null) {\r\n        targetListeners.delete(target);\r\n        callback = () => {};\r\n      }\r\n      var removeEventListener = addEventListener(target, eventType, callback, options);\r\n      targetListeners.set(target, removeEventListener);\r\n      return removeEventListener;\r\n    };\r\n  });\r\n  useLayoutEffect(() => {\r\n    return () => {\r\n      targetListeners.forEach(removeListener => {\r\n        removeListener();\r\n      });\r\n      targetListeners.clear();\r\n    };\r\n  }, [targetListeners]);\r\n  return addListener;\r\n}"],"mappings":";;;;;AASA,IAAAA,iBAAA,GAAAC,OAAA;AACA,IAAAC,gBAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,UAAA,GAAAD,sBAAA,CAAAF,OAAA;AAUe,SAASI,QAAQA,CAACC,SAAS,EAAEC,OAAO,EAAE;EACnD,IAAIC,eAAe,GAAG,IAAAC,kBAAS,EAAC;IAAA,OAAM,IAAIC,GAAG,CAAC,CAAC;EAAA,EAAC;EAChD,IAAIC,WAAW,GAAG,IAAAF,kBAAS,EAAC,YAAM;IAChC,OAAO,UAACG,MAAM,EAAEC,QAAQ,EAAK;MAC3B,IAAIC,oBAAoB,GAAGN,eAAe,CAACO,GAAG,CAACH,MAAM,CAAC;MACtD,IAAIE,oBAAoB,IAAI,IAAI,EAAE;QAChCA,oBAAoB,CAAC,CAAC;MACxB;MACA,IAAID,QAAQ,IAAI,IAAI,EAAE;QACpBL,eAAe,CAACQ,MAAM,CAACJ,MAAM,CAAC;QAC9BC,QAAQ,GAAG,SAAAA,SAAA,EAAM,CAAC,CAAC;MACrB;MACA,IAAII,mBAAmB,GAAG,IAAAC,kCAAgB,EAACN,MAAM,EAAEN,SAAS,EAAEO,QAAQ,EAAEN,OAAO,CAAC;MAChFC,eAAe,CAACW,GAAG,CAACP,MAAM,EAAEK,mBAAmB,CAAC;MAChD,OAAOA,mBAAmB;IAC5B,CAAC;EACH,CAAC,CAAC;EACF,IAAAG,wBAAe,EAAC,YAAM;IACpB,OAAO,YAAM;MACXZ,eAAe,CAACa,OAAO,CAAC,UAAAC,cAAc,EAAI;QACxCA,cAAc,CAAC,CAAC;MAClB,CAAC,CAAC;MACFd,eAAe,CAACe,KAAK,CAAC,CAAC;IACzB,CAAC;EACH,CAAC,EAAE,CAACf,eAAe,CAAC,CAAC;EACrB,OAAOG,WAAW;AACpB"},"metadata":{},"sourceType":"script","externalDependencies":[]}